{"version":3,"sources":["../../src/components/slide.js"],"names":[],"mappings":"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","file":"slide.js","sourcesContent":["import React, { Component, cloneElement } from \"react\"\r\nimport { findDOMNode } from \"react-dom\"\r\nimport { Transition } from \"react-overlays\"\r\n\r\nconst TRANSITION_DURATION = 200\r\nconst TRANSITION_FRAME_DELAY = 5\r\nconst TRANSITION_HALF = 0.5\r\n\r\nclass DateTimePickerViewSlide extends Component {\r\n\r\n    static propTypes = {\r\n        children : React.PropTypes.element.isRequired,\r\n        collapse : React.PropTypes.bool,\r\n        in       : React.PropTypes.bool\r\n    };\r\n\r\n    easeDelta (progress) {\r\n        return (progress < TRANSITION_HALF) ? (2 * progress / 2) : ((2 - 2 * (1 - progress)) / 2)\r\n    }\r\n\r\n    transition = (slide, step) => {\r\n        const start = new Date()\r\n        slide.style.overflow = \"hidden\"\r\n        const timer = setInterval(() => {\r\n            const timePassed = new Date() - start\r\n            const progress = Math.min(1, timePassed / TRANSITION_DURATION)\r\n\r\n            const delta = this.easeDelta(progress)\r\n\r\n            step(delta)\r\n\r\n            if (progress === 1) {\r\n                clearInterval(timer)\r\n                slide.style.removeProperty(\"height\")\r\n                slide.style.removeProperty(\"overflow\")\r\n            }\r\n        }, TRANSITION_FRAME_DELAY)\r\n    };\r\n\r\n    slideToggle (slide, from, to) {\r\n        slide.style.height = `${from}px`\r\n\r\n        this.transition(slide, (delta) => {\r\n            let height\r\n            if (from > to) {\r\n                height = from - from * delta\r\n            } else {\r\n                height = to * delta\r\n            }\r\n            slide.style.height = `${height}px`\r\n        })\r\n    }\r\n\r\n    onEntering = () => {\r\n        const slide = findDOMNode(this.refs.slide)\r\n        const parent = slide.parentNode\r\n        const clone = slide.cloneNode(true)\r\n        clone.style.display = \"block\"\r\n        parent.appendChild(clone)\r\n        const height = clone.getBoundingClientRect().height\r\n        parent.removeChild(clone)\r\n        this.slideToggle(slide, 0, height)\r\n    };\r\n\r\n    onExiting = () => {\r\n        const slide = findDOMNode(this.refs.slide)\r\n        const height = slide.getBoundingClientRect().height\r\n        this.slideToggle(slide, height, 0)\r\n    };\r\n\r\n    renderWithCollapse () {\r\n        const { children } = this.props\r\n\r\n        return (\r\n            <Transition ref=\"slide\"\r\n                        in={ this.props.in }\r\n                        timeout={ TRANSITION_DURATION }\r\n                        onEntering={ this.onEntering }\r\n                        onExiting={ this.onExiting }\r\n                        enteredClassName=\"collapse in\"\r\n                        exitedClassName=\"collapse\">\r\n                { children }\r\n            </Transition>\r\n        )\r\n    }\r\n\r\n    renderWithoutCollapse () {\r\n        const { children } = this.props\r\n        const child = React.Children.only(children)\r\n        const styles = { display : \"none\" }\r\n\r\n        return cloneElement(child, Object.assign({}, child.props, {\r\n            style : Object.assign({}, child.props.style, !this.props.in ? styles : {})\r\n        }))\r\n    }\r\n\r\n    render () {\r\n        const { collapse } = this.props\r\n        return collapse ? this.renderWithCollapse() : this.renderWithoutCollapse()\r\n    }\r\n\r\n}\r\n\r\nexport default DateTimePickerViewSlide\r\n"]}